var NAVY=NAVY||{};NAVY.Carousel=function(t,e,i,r){var a=this;if(a.WrapperObj=$(i),a.containerObj=a.WrapperObj.find(e),a.targetObj=t,a.targetObjs=a.containerObj.find(t),a.targetObjLen=a.targetObjs.length,1>=a.targetObjLen)return!1;a.WrapperObjWidth=a.WrapperObj.outerWidth(),a.WrapperObjHeight=a.WrapperObj.outerHeight();var n={speed:3e3,direction:"vertical",isLoop:!0,moveCount:1,targetObjHeight:a.WrapperObjHeight,targetObjWidth:a.WrapperObjWidth,isOpacityOthers:!1,isAnimate:!0};a.moveCount=0,$.extend(n,r),a.options=n,a.options.moveCount>a.targetObjLen&&(a.options.moveCount=a.targetObjLen),a.maskHtml='<div class="hoverMask eightyOpacity"></div>',a.init()},NAVY.Carousel.prototype={init:function(){var t=this,e=t.options;switch(t.WrapperObj.css({overflow:"hidden"}).append(t.maskHtml),e.isOpacityOthers&&t.targetObjs.addClass("carouselRelative"),"static"===t.WrapperObj.css("position")&&t.WrapperObj.css({position:"relative"}),e.direction){case"vertical":t.containerObj.css({height:e.targetObjHeight*t.targetObjLen});break;case"horizontal":t.containerObj.css({width:e.targetObjWidth*t.targetObjLen}),t.targetObjs.css({"float":"left",margin:0,width:e.targetObjWidth});break;default:t.containerObj.css({height:t.WrapperObjHeight*t.targetObjLen})}return t.initEvent(),this},initEvent:function(){var t=this,e=t.options;t.startCarousel();var i=t.WrapperObj.find(".hoverMask");return t.targetObjs.hover(function(){e.isOpacityOthers&&i.show().appendTo(this).animate({opacity:.5}),t.stopCarousel()},function(){e.isOpacityOthers&&i.hide().css({opacity:.3}),t.startCarousel()}),this},startCarousel:function(){var t=this,e=t.options;return t.intervalId=setInterval(function(){t.setMargin()},e.speed),this},stopCarousel:function(){return this.intervalId&&clearInterval(this.intervalId),this},setMargin:function(){var t=this.options,e=t.targetObjWidth,i=t.targetObjHeight;if(!t.isLoop&&++this.moveCount*t.moveCount>=this.targetObjLen)return this.stopCarousel(),!1;var r=this.containerObj,a=r.find(this.targetObj).slice(0,t.moveCount),n="margin-top",s=-i*t.moveCount,o={marginTop:s};return"horizontal"===t.direction&&(n="margin-left",s=-e*t.moveCount,o={marginLeft:s}),t.isAnimate?r.stop(!0,!0).animate(o,500,function(){r.css(n,0).append(a)}):r.css(n,s).css(n,0).append(a),this}};